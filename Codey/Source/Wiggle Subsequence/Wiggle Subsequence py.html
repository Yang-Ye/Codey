<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n)</span>
<span style="color: #888888"># Space: O(1)</span>

<span style="color: #888888"># A sequence of numbers is called a wiggle sequence</span>
<span style="color: #888888"># if the differences between successive numbers strictly</span>
<span style="color: #888888"># alternate between positive and negative.</span>
<span style="color: #888888"># The first difference (if one exists) may be either positive</span>
<span style="color: #888888"># or negative. A sequence with fewer than two elements</span>
<span style="color: #888888"># is trivially a wiggle sequence.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># For example, [1,7,4,9,2,5] is a wiggle sequence because</span>
<span style="color: #888888"># the differences (6,-3,5,-7,3) are alternately positive </span>
<span style="color: #888888"># and negative. In contrast, [1,4,7,2,5] and [1,7,4,5,5] are</span>
<span style="color: #888888"># not wiggle sequences, the first because its first two differences</span>
<span style="color: #888888"># are positive and the second because its last difference is zero.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Given a sequence of integers, return the length of</span>
<span style="color: #888888"># the longest subsequence that is a wiggle sequence.</span>
<span style="color: #888888"># A subsequence is obtained by deleting some number of elements</span>
<span style="color: #888888"># (eventually, also zero) from the original sequence, leaving </span>
<span style="color: #888888"># the remaining elements in their original order.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Examples:</span>
<span style="color: #888888"># Input: [1,7,4,9,2,5]</span>
<span style="color: #888888"># Output: 6</span>
<span style="color: #888888"># The entire sequence is a wiggle sequence.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Input: [1,17,5,10,13,15,10,5,16,8]</span>
<span style="color: #888888"># Output: 7</span>
<span style="color: #888888"># There are several subsequences that achieve this length. One is [1,17,10,13,10,16,8].</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Input: [1,2,3,4,5,6,7,8,9]</span>
<span style="color: #888888"># Output: 2</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Follow up:</span>
<span style="color: #888888"># Can you do it in O(n) time?</span>


<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>(<span style="color: #007020">object</span>):
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">wiggleMaxLength</span>(<span style="color: #007020">self</span>, nums):
        <span style="color: #DD4422">&quot;&quot;&quot;</span>
<span style="color: #DD4422">        :type nums: List[int]</span>
<span style="color: #DD4422">        :rtype: int</span>
<span style="color: #DD4422">        &quot;&quot;&quot;</span>
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">len</span>(nums) <span style="color: #333333">&lt;</span> <span style="color: #0000DD; font-weight: bold">2</span>:
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">len</span>(nums)

        length, up <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">1</span>, <span style="color: #007020">None</span>

        <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #0000DD; font-weight: bold">1</span>, <span style="color: #007020">len</span>(nums)):
            <span style="color: #008800; font-weight: bold">if</span> nums[i <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">&lt;</span> nums[i] <span style="color: #000000; font-weight: bold">and</span> (up <span style="color: #000000; font-weight: bold">is</span> <span style="color: #007020">None</span> <span style="color: #000000; font-weight: bold">or</span> up <span style="color: #000000; font-weight: bold">is</span> <span style="color: #007020">False</span>):
                length <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
                up <span style="color: #333333">=</span> <span style="color: #007020">True</span>
            <span style="color: #008800; font-weight: bold">elif</span> nums[i <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">&gt;</span> nums[i] <span style="color: #000000; font-weight: bold">and</span> (up <span style="color: #000000; font-weight: bold">is</span> <span style="color: #007020">None</span> <span style="color: #000000; font-weight: bold">or</span> up <span style="color: #000000; font-weight: bold">is</span> <span style="color: #007020">True</span>):
                length <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
                up <span style="color: #333333">=</span> <span style="color: #007020">False</span>

        <span style="color: #008800; font-weight: bold">return</span> length
</pre></div>
