<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">public</span> <span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span> <span style="color: #333333">{</span>
    <span style="color: #333399; font-weight: bold">int</span> min<span style="color: #333333">;</span> <span style="color: #888888">//min distance to hole</span>
    String minS<span style="color: #333333">;</span> <span style="color: #888888">//min distance&#39;s path string</span>
    <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[]</span> hole<span style="color: #333333">;</span>
    <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[][]</span> maze<span style="color: #333333">;</span> 
    <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[][]</span> map<span style="color: #333333">;</span> <span style="color: #888888">//shortest distant traveling from ball to this point</span>
    <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[][]</span> dirs <span style="color: #333333">=</span> <span style="color: #333333">{{</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">},{-</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">},{</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">,</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">},{</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">,-</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">}};</span> <span style="color: #888888">//r, u, d, l</span>
    <span style="color: #008800; font-weight: bold">public</span> String <span style="color: #0066BB; font-weight: bold">findShortestWay</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[][]</span> maze<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[]</span> ball<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[]</span> hole<span style="color: #333333">)</span> <span style="color: #333333">{</span>
        <span style="color: #008800; font-weight: bold">this</span><span style="color: #333333">.</span><span style="color: #0000CC">min</span> <span style="color: #333333">=</span> Integer<span style="color: #333333">.</span><span style="color: #0000CC">MAX_VALUE</span><span style="color: #333333">;</span> 
        <span style="color: #008800; font-weight: bold">this</span><span style="color: #333333">.</span><span style="color: #0000CC">minS</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">null</span><span style="color: #333333">;</span>
        <span style="color: #008800; font-weight: bold">this</span><span style="color: #333333">.</span><span style="color: #0000CC">hole</span> <span style="color: #333333">=</span> hole<span style="color: #333333">;</span> 
        <span style="color: #008800; font-weight: bold">this</span><span style="color: #333333">.</span><span style="color: #0000CC">maze</span> <span style="color: #333333">=</span> maze<span style="color: #333333">;</span> 
        <span style="color: #008800; font-weight: bold">this</span><span style="color: #333333">.</span><span style="color: #0000CC">map</span> <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> <span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">[</span>maze<span style="color: #333333">.</span><span style="color: #0000CC">length</span><span style="color: #333333">][</span>maze<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">].</span><span style="color: #0000CC">length</span><span style="color: #333333">];</span>
        <span style="color: #008800; font-weight: bold">for</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;</span>map<span style="color: #333333">.</span><span style="color: #0000CC">length</span><span style="color: #333333">;</span> i<span style="color: #333333">++)</span> Arrays<span style="color: #333333">.</span><span style="color: #0000CC">fill</span><span style="color: #333333">(</span>map<span style="color: #333333">[</span>i<span style="color: #333333">],</span> Integer<span style="color: #333333">.</span><span style="color: #0000CC">MAX_VALUE</span><span style="color: #333333">);</span> 
        
        move<span style="color: #333333">(</span>ball<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">],</span> ball<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">],</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">,</span> <span style="background-color: #fff0f0">&quot;&quot;</span><span style="color: #333333">,</span> <span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">);</span>
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #333333">(</span>minS<span style="color: #333333">==</span><span style="color: #008800; font-weight: bold">null</span><span style="color: #333333">)</span> <span style="color: #333333">?</span> <span style="background-color: #fff0f0">&quot;impossible&quot;</span> <span style="color: #333333">:</span> minS<span style="color: #333333">;</span>
    <span style="color: #333333">}</span>
    
    <span style="color: #008800; font-weight: bold">private</span> <span style="color: #333399; font-weight: bold">void</span> <span style="color: #0066BB; font-weight: bold">move</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> r<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span> c<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span> cnt<span style="color: #333333">,</span> String path<span style="color: #333333">,</span> <span style="color: #333399; font-weight: bold">int</span> dir<span style="color: #333333">){</span><span style="color: #888888">//dir is a index of dirs </span>
        <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>cnt <span style="color: #333333">&gt;</span> min <span style="color: #333333">||</span> cnt <span style="color: #333333">&gt;</span> map<span style="color: #333333">[</span>r<span style="color: #333333">][</span>c<span style="color: #333333">])</span> <span style="color: #008800; font-weight: bold">return</span><span style="color: #333333">;</span> <span style="color: #888888">//not a shortest route for sure </span>
        <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>dir<span style="color: #333333">!=-</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">){</span><span style="color: #888888">//if not from start point </span>
            <span style="color: #888888">//add path </span>
            <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>dir<span style="color: #333333">==</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">)</span> path<span style="color: #333333">+=</span><span style="color: #0044DD">&#39;r&#39;</span><span style="color: #333333">;</span>
            <span style="color: #008800; font-weight: bold">else</span> <span style="color: #0066BB; font-weight: bold">if</span><span style="color: #333333">(</span>dir<span style="color: #333333">==</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">)</span> path<span style="color: #333333">+=</span><span style="color: #0044DD">&#39;u&#39;</span><span style="color: #333333">;</span>
            <span style="color: #008800; font-weight: bold">else</span> <span style="color: #0066BB; font-weight: bold">if</span><span style="color: #333333">(</span>dir<span style="color: #333333">==</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">)</span> path<span style="color: #333333">+=</span><span style="color: #0044DD">&#39;d&#39;</span><span style="color: #333333">;</span>
            <span style="color: #008800; font-weight: bold">else</span> path<span style="color: #333333">+=</span><span style="color: #0044DD">&#39;l&#39;</span><span style="color: #333333">;</span>
    
            <span style="color: #888888">//roll along dir </span>
            <span style="color: #008800; font-weight: bold">while</span><span style="color: #333333">(</span>r<span style="color: #333333">&gt;=</span><span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&amp;&amp;</span> r<span style="color: #333333">&lt;</span>maze<span style="color: #333333">.</span><span style="color: #0000CC">length</span> <span style="color: #333333">&amp;&amp;</span> c<span style="color: #333333">&gt;=</span><span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&amp;&amp;</span> c<span style="color: #333333">&lt;</span>maze<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">].</span><span style="color: #0000CC">length</span> <span style="color: #333333">&amp;&amp;</span> maze<span style="color: #333333">[</span>r<span style="color: #333333">][</span>c<span style="color: #333333">]==</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">){</span>
                map<span style="color: #333333">[</span>r<span style="color: #333333">][</span>c<span style="color: #333333">]</span> <span style="color: #333333">=</span> Math<span style="color: #333333">.</span><span style="color: #0000CC">min</span><span style="color: #333333">(</span>map<span style="color: #333333">[</span>r<span style="color: #333333">][</span>c<span style="color: #333333">],</span> cnt<span style="color: #333333">);</span> 
                <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>r<span style="color: #333333">==</span>hole<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">]</span> <span style="color: #333333">&amp;&amp;</span> c<span style="color: #333333">==</span>hole<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">]){</span><span style="color: #888888">//check hole</span>
                    <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>cnt<span style="color: #333333">==</span>min <span style="color: #333333">&amp;&amp;</span> path<span style="color: #333333">.</span><span style="color: #0000CC">compareTo</span><span style="color: #333333">(</span>minS<span style="color: #333333">)&lt;</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">){</span>
                        minS<span style="color: #333333">=</span>path<span style="color: #333333">;</span>
                    <span style="color: #333333">}</span><span style="color: #008800; font-weight: bold">else</span> <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>cnt<span style="color: #333333">&lt;</span>min<span style="color: #333333">){</span>
                        min <span style="color: #333333">=</span> cnt<span style="color: #333333">;</span> 
                        minS <span style="color: #333333">=</span> path<span style="color: #333333">;</span> 
                    <span style="color: #333333">}</span>
                    <span style="color: #008800; font-weight: bold">return</span><span style="color: #333333">;</span> 
                <span style="color: #333333">}</span>
                r <span style="color: #333333">+=</span> dirs<span style="color: #333333">[</span>dir<span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">];</span>
                c <span style="color: #333333">+=</span> dirs<span style="color: #333333">[</span>dir<span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">];</span>
                cnt<span style="color: #333333">++;</span>
            <span style="color: #333333">}</span>
            r <span style="color: #333333">-=</span> dirs<span style="color: #333333">[</span>dir<span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">];</span><span style="color: #888888">//[r,c] is wall, need to walk back 1 step</span>
            c <span style="color: #333333">-=</span> dirs<span style="color: #333333">[</span>dir<span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">];</span>
            cnt<span style="color: #333333">--;</span>
        <span style="color: #333333">}</span>
        
        <span style="color: #888888">//hit wall (or start) -&gt; try to turn</span>
        <span style="color: #008800; font-weight: bold">for</span><span style="color: #333333">(</span><span style="color: #333399; font-weight: bold">int</span> i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">;</span> i<span style="color: #333333">&lt;</span>dirs<span style="color: #333333">.</span><span style="color: #0000CC">length</span><span style="color: #333333">;</span> i<span style="color: #333333">++){</span>
            <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>dir <span style="color: #333333">==</span> i<span style="color: #333333">)</span> <span style="color: #008800; font-weight: bold">continue</span><span style="color: #333333">;</span><span style="color: #888888">//dont keep going</span>
            <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>dir <span style="color: #333333">==</span> <span style="color: #333333">(</span><span style="color: #0000DD; font-weight: bold">3</span><span style="color: #333333">-</span>i<span style="color: #333333">))</span> <span style="color: #008800; font-weight: bold">continue</span><span style="color: #333333">;</span><span style="color: #888888">//dont go back</span>
            <span style="color: #333399; font-weight: bold">int</span> newR <span style="color: #333333">=</span> r <span style="color: #333333">+</span> dirs<span style="color: #333333">[</span>i<span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">];</span>
            <span style="color: #333399; font-weight: bold">int</span> newC <span style="color: #333333">=</span> c <span style="color: #333333">+</span> dirs<span style="color: #333333">[</span>i<span style="color: #333333">][</span><span style="color: #0000DD; font-weight: bold">1</span><span style="color: #333333">];</span>
            <span style="color: #008800; font-weight: bold">if</span><span style="color: #333333">(</span>newR<span style="color: #333333">&gt;=</span><span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&amp;&amp;</span> newR<span style="color: #333333">&lt;</span>maze<span style="color: #333333">.</span><span style="color: #0000CC">length</span> <span style="color: #333333">&amp;&amp;</span> newC<span style="color: #333333">&gt;=</span><span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&amp;&amp;</span> newC<span style="color: #333333">&lt;</span>maze<span style="color: #333333">[</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">].</span><span style="color: #0000CC">length</span> <span style="color: #333333">&amp;&amp;</span> maze<span style="color: #333333">[</span>newR<span style="color: #333333">][</span>newC<span style="color: #333333">]==</span><span style="color: #0000DD; font-weight: bold">0</span><span style="color: #333333">){</span><span style="color: #888888">//can go</span>
                move<span style="color: #333333">(</span>r<span style="color: #333333">,</span> c<span style="color: #333333">,</span> cnt<span style="color: #333333">,</span> path<span style="color: #333333">,</span> i<span style="color: #333333">);</span>
            <span style="color: #333333">}</span>
        <span style="color: #333333">}</span>
    <span style="color: #333333">}</span>
<span style="color: #333333">}</span>
</pre></div>
