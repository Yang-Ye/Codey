<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888">// Time:  O(1) per peek(), next(), hasNext()</span>
<span style="color: #888888">// Space: O(1)</span>

<span style="color: #888888">// Below is the interface for Iterator, which is already defined for you.</span>
<span style="color: #888888">// **DO NOT** modify the interface for Iterator.</span>
<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Iterator</span> {
    <span style="color: #008800; font-weight: bold">struct</span> Data;
	Data<span style="color: #333333">*</span> data;
<span style="color: #008800; font-weight: bold">public</span><span style="color: #333333">:</span>
	Iterator(<span style="color: #008800; font-weight: bold">const</span> vector<span style="color: #333333">&lt;</span><span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">&gt;&amp;</span> nums);
	Iterator(<span style="color: #008800; font-weight: bold">const</span> Iterator<span style="color: #333333">&amp;</span> iter);
	<span style="color: #008800; font-weight: bold">virtual</span> <span style="color: #333333">~</span>Iterator();
	<span style="color: #888888">// Returns the next element in the iteration.</span>
	<span style="color: #333399; font-weight: bold">int</span> <span style="color: #0066BB; font-weight: bold">next</span>();
	<span style="color: #888888">// Returns true if the iteration has more elements.</span>
	<span style="color: #333399; font-weight: bold">bool</span> <span style="color: #0066BB; font-weight: bold">hasNext</span>() <span style="color: #008800; font-weight: bold">const</span>;
};


<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">PeekingIterator</span> <span style="color: #333333">:</span> <span style="color: #008800; font-weight: bold">public</span> Iterator {
<span style="color: #008800; font-weight: bold">public</span><span style="color: #333333">:</span>
    PeekingIterator(<span style="color: #008800; font-weight: bold">const</span> vector<span style="color: #333333">&lt;</span><span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">&gt;&amp;</span> nums) <span style="color: #333333">:</span> Iterator(nums), has_next_(Iterator<span style="color: #333333">::</span>hasNext()) {
        <span style="color: #888888">// Initialize any member here.</span>
        <span style="color: #888888">// **DO NOT** save a copy of nums and manipulate it directly.</span>
        <span style="color: #888888">// You should only use the Iterator interface methods.</span>
    }

    <span style="color: #888888">// Returns the next element in the iteration without advancing the iterator.</span>
    <span style="color: #333399; font-weight: bold">int</span> peek() {
        <span style="color: #008800; font-weight: bold">if</span> (<span style="color: #333333">!</span>has_peeked_) {
            has_peeked_ <span style="color: #333333">=</span> <span style="color: #007020">true</span>;
            val_ <span style="color: #333333">=</span> Iterator<span style="color: #333333">::</span>next();
        }
        <span style="color: #008800; font-weight: bold">return</span> val_;
    }

    <span style="color: #888888">// hasNext() and next() should behave the same as in the Iterator interface.</span>
    <span style="color: #888888">// Override them if needed.</span>
    <span style="color: #333399; font-weight: bold">int</span> next() {
        val_ <span style="color: #333333">=</span> peek();
        has_peeked_ <span style="color: #333333">=</span> <span style="color: #007020">false</span>;
        has_next_ <span style="color: #333333">=</span> Iterator<span style="color: #333333">::</span>hasNext();
        <span style="color: #008800; font-weight: bold">return</span> val_;
    }

    <span style="color: #333399; font-weight: bold">bool</span> hasNext() <span style="color: #008800; font-weight: bold">const</span> {
        <span style="color: #008800; font-weight: bold">return</span> has_next_;
    }

<span style="color: #008800; font-weight: bold">private</span><span style="color: #333333">:</span>
    <span style="color: #333399; font-weight: bold">int</span> val_;
    <span style="color: #333399; font-weight: bold">bool</span> has_next_;
    <span style="color: #333399; font-weight: bold">bool</span> has_peeked_ <span style="color: #333333">=</span> <span style="color: #007020">false</span>;
};
</pre></div>
