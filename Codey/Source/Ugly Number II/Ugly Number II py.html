<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n)</span>
<span style="color: #888888"># Space: O(1)</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Write a program to find the n-th ugly number.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Ugly numbers are positive numbers whose prime factors</span>
<span style="color: #888888"># only include 2, 3, 5. For example,</span>
<span style="color: #888888"># 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 is the sequence of the</span>
<span style="color: #888888"># first 10 ugly numbers.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Note that 1 is typically treated as an ugly number.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Hint:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># The naive approach is to call isUgly for every number</span>
<span style="color: #888888"># until you reach the nth one. Most numbers are not ugly.</span>
<span style="color: #888888"># Try to focus your effort on generating only the ugly ones.</span>
<span style="color: #888888">#</span>

<span style="color: #008800; font-weight: bold">import</span> <span style="color: #0e84b5; font-weight: bold">heapq</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>:
    <span style="color: #888888"># @param {integer} n</span>
    <span style="color: #888888"># @return {integer}</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">nthUglyNumber</span>(<span style="color: #007020">self</span>, n):
        ugly_number <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>

        heap <span style="color: #333333">=</span> []
        heapq<span style="color: #333333">.</span>heappush(heap, <span style="color: #0000DD; font-weight: bold">1</span>)
        <span style="color: #008800; font-weight: bold">for</span> _ <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(n):
            ugly_number <span style="color: #333333">=</span> heapq<span style="color: #333333">.</span>heappop(heap)
            <span style="color: #008800; font-weight: bold">if</span> ugly_number <span style="color: #333333">%</span> <span style="color: #0000DD; font-weight: bold">2</span> <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>:
                heapq<span style="color: #333333">.</span>heappush(heap, ugly_number <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">2</span>)
            <span style="color: #008800; font-weight: bold">elif</span> ugly_number <span style="color: #333333">%</span> <span style="color: #0000DD; font-weight: bold">3</span> <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>:
                heapq<span style="color: #333333">.</span>heappush(heap, ugly_number <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">2</span>)
                heapq<span style="color: #333333">.</span>heappush(heap, ugly_number <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">3</span>)
            <span style="color: #008800; font-weight: bold">else</span>:
                heapq<span style="color: #333333">.</span>heappush(heap, ugly_number <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">2</span>)
                heapq<span style="color: #333333">.</span>heappush(heap, ugly_number <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">3</span>)
                heapq<span style="color: #333333">.</span>heappush(heap, ugly_number <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">5</span>)

        <span style="color: #008800; font-weight: bold">return</span> ugly_number
</pre></div>
