<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span> {
<span style="color: #997700; font-weight: bold">public:</span>
    std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>string<span style="color: #333333">&gt;</span> <span style="color: #333333">&gt;</span> solveNQueens(<span style="color: #333399; font-weight: bold">int</span> n) {
        std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>string<span style="color: #333333">&gt;</span> <span style="color: #333333">&gt;</span> res;
		std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>string<span style="color: #333333">&gt;</span> nQueens(n, std<span style="color: #333333">::</span>string(n, <span style="color: #0044DD">&#39;.&#39;</span>));
		<span style="color: #888888">/*</span>
<span style="color: #888888">		flag[0] to flag[n - 1] to indicate if the column had a queen before.</span>
<span style="color: #888888">		flag[n] to flag[3 * n - 2] to indicate if the 45° diagonal had a queen before.</span>
<span style="color: #888888">		flag[3 * n - 1] to flag[5 * n - 3] to indicate if the 135° diagonal had a queen before.</span>
<span style="color: #888888">		*/</span>
		std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span><span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">&gt;</span> flag(<span style="color: #0000DD; font-weight: bold">5</span> <span style="color: #333333">*</span> n <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">2</span>, <span style="color: #0000DD; font-weight: bold">1</span>);
		solveNQueens(res, nQueens, flag, <span style="color: #0000DD; font-weight: bold">0</span>, n);
		<span style="color: #008800; font-weight: bold">return</span> res;
    }
<span style="color: #997700; font-weight: bold">private:</span>
	<span style="color: #333399; font-weight: bold">void</span> solveNQueens(std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>string<span style="color: #333333">&gt;</span> <span style="color: #333333">&gt;</span> <span style="color: #333333">&amp;</span>res, std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span>std<span style="color: #333333">::</span>string<span style="color: #333333">&gt;</span> <span style="color: #333333">&amp;</span>nQueens, std<span style="color: #333333">::</span>vector<span style="color: #333333">&lt;</span><span style="color: #333399; font-weight: bold">int</span><span style="color: #333333">&gt;</span> <span style="color: #333333">&amp;</span>flag, <span style="color: #333399; font-weight: bold">int</span> row, <span style="color: #333399; font-weight: bold">int</span> <span style="color: #333333">&amp;</span>n) {
		<span style="color: #008800; font-weight: bold">if</span> (row <span style="color: #333333">==</span> n) {
			res.push_back(nQueens);
			<span style="color: #008800; font-weight: bold">return</span>;
		}
		<span style="color: #008800; font-weight: bold">for</span> (<span style="color: #333399; font-weight: bold">int</span> col <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>; col <span style="color: #333333">!=</span> n; <span style="color: #333333">++</span>col)
			<span style="color: #008800; font-weight: bold">if</span> (flag[col] <span style="color: #333333">&amp;&amp;</span> flag[n <span style="color: #333333">+</span> row <span style="color: #333333">+</span> col] <span style="color: #333333">&amp;&amp;</span> flag[<span style="color: #0000DD; font-weight: bold">4</span> <span style="color: #333333">*</span> n <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">2</span> <span style="color: #333333">+</span> col <span style="color: #333333">-</span> row]) {
				flag[col] <span style="color: #333333">=</span> flag[n <span style="color: #333333">+</span> row <span style="color: #333333">+</span> col] <span style="color: #333333">=</span> flag[<span style="color: #0000DD; font-weight: bold">4</span> <span style="color: #333333">*</span> n <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">2</span> <span style="color: #333333">+</span> col <span style="color: #333333">-</span> row] <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>;
				nQueens[row][col] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;Q&#39;</span>;
				solveNQueens(res, nQueens, flag, row <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>, n);
				nQueens[row][col] <span style="color: #333333">=</span> <span style="color: #0044DD">&#39;.&#39;</span>;
				flag[col] <span style="color: #333333">=</span> flag[n <span style="color: #333333">+</span> row <span style="color: #333333">+</span> col] <span style="color: #333333">=</span> flag[<span style="color: #0000DD; font-weight: bold">4</span> <span style="color: #333333">*</span> n <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">2</span> <span style="color: #333333">+</span> col <span style="color: #333333">-</span> row] <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">1</span>;
			}
	}
};
</pre></div>
