<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n^3)</span>
<span style="color: #888888"># Space: O(n^2)</span>

<span style="color: #888888"># Given n balloons, indexed from 0 to n-1. </span>
<span style="color: #888888"># Each balloon is painted with a number on it </span>
<span style="color: #888888"># represented by array nums. </span>
<span style="color: #888888"># You are asked to burst all the balloons.</span>
<span style="color: #888888"># If the you burst balloon i you will get </span>
<span style="color: #888888"># nums[left] * nums[i] * nums[right] coins. </span>
<span style="color: #888888"># Here left and right are adjacent indices of i. </span>
<span style="color: #888888"># After the burst, the left and right then</span>
<span style="color: #888888"># becomes adjacent.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Find the maximum coins you can collect by </span>
<span style="color: #888888"># bursting the balloons wisely.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Note: </span>
<span style="color: #888888"># (1) You may imagine nums[-1] = nums[n] = 1.</span>
<span style="color: #888888">#     They are not real therefore you can not burst them.</span>
<span style="color: #888888"># (2) 0 &lt;= n &lt;= 500, 0 &lt;= nums[i] &lt;= 100</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Example:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Given [3, 1, 5, 8]</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Return 167</span>
<span style="color: #888888">#</span>
<span style="color: #888888">#     nums = [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []</span>
<span style="color: #888888">#   coins =  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   = 167</span>
<span style="color: #888888">#</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>(<span style="color: #007020">object</span>):
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">maxCoins</span>(<span style="color: #007020">self</span>, nums):
        <span style="color: #DD4422">&quot;&quot;&quot;</span>
<span style="color: #DD4422">        :type nums: List[int]</span>
<span style="color: #DD4422">        :rtype: int</span>
<span style="color: #DD4422">        &quot;&quot;&quot;</span>
        coins <span style="color: #333333">=</span> [<span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">+</span> [i <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> nums <span style="color: #008800; font-weight: bold">if</span> i <span style="color: #333333">&gt;</span> <span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">+</span> [<span style="color: #0000DD; font-weight: bold">1</span>]
        n <span style="color: #333333">=</span> <span style="color: #007020">len</span>(coins)
        max_coins <span style="color: #333333">=</span> [[<span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #008800; font-weight: bold">for</span> _ <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(n)] <span style="color: #008800; font-weight: bold">for</span> _ <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(n)]
    
        <span style="color: #008800; font-weight: bold">for</span> k <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #0000DD; font-weight: bold">2</span>, n):
            <span style="color: #008800; font-weight: bold">for</span> left <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(n <span style="color: #333333">-</span> k):
                right <span style="color: #333333">=</span> left <span style="color: #333333">+</span> k
                <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(left <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>, right):
                    max_coins[left][right] <span style="color: #333333">=</span> <span style="color: #007020">max</span>(max_coins[left][right], \
                           coins[left] <span style="color: #333333">*</span> coins[i] <span style="color: #333333">*</span> coins[right] <span style="color: #333333">+</span> \
                           max_coins[left][i] <span style="color: #333333">+</span> max_coins[i][right])

        <span style="color: #008800; font-weight: bold">return</span> max_coins[<span style="color: #0000DD; font-weight: bold">0</span>][<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>]
  
</pre></div>
