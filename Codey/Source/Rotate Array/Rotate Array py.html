<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n)</span>
<span style="color: #888888"># Space: O(1)</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Rotate an array of n elements to the right by k steps.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># For example, with n = 7 and k = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4].</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Note:</span>
<span style="color: #888888"># Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem.</span>
<span style="color: #888888">#</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>:
    <span style="color: #888888"># @param nums, a list of integer</span>
    <span style="color: #888888"># @param k, num of steps</span>
    <span style="color: #888888"># @return nothing, please modify the nums list in-place.</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">rotate</span>(<span style="color: #007020">self</span>, nums, k):
        k <span style="color: #333333">%=</span> <span style="color: #007020">len</span>(nums)
        <span style="color: #007020">self</span><span style="color: #333333">.</span>reverse(nums, <span style="color: #0000DD; font-weight: bold">0</span>, <span style="color: #007020">len</span>(nums))
        <span style="color: #007020">self</span><span style="color: #333333">.</span>reverse(nums, <span style="color: #0000DD; font-weight: bold">0</span>, k)
        <span style="color: #007020">self</span><span style="color: #333333">.</span>reverse(nums, k, <span style="color: #007020">len</span>(nums))
    
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">reverse</span>(<span style="color: #007020">self</span>, nums, start, end):
        <span style="color: #008800; font-weight: bold">while</span> start <span style="color: #333333">&lt;</span> end:
            nums[start], nums[end<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">=</span> nums[end<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>], nums[start]
            start <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
            end <span style="color: #333333">-=</span> <span style="color: #0000DD; font-weight: bold">1</span>

<span style="color: #008800; font-weight: bold">from</span> <span style="color: #0e84b5; font-weight: bold">fractions</span> <span style="color: #008800; font-weight: bold">import</span> gcd

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution2</span>:
    <span style="color: #888888"># @param nums, a list of integer</span>
    <span style="color: #888888"># @param k, num of steps</span>
    <span style="color: #888888"># @return nothing, please modify the nums list in-place.</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">rotate</span>(<span style="color: #007020">self</span>, nums, k):
        k <span style="color: #333333">%=</span> <span style="color: #007020">len</span>(nums)
        num_cycles <span style="color: #333333">=</span> gcd(<span style="color: #007020">len</span>(nums), k)
        cycle_len <span style="color: #333333">=</span> <span style="color: #007020">len</span>(nums) <span style="color: #333333">/</span> num_cycles
        <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(num_cycles):
            <span style="color: #007020">self</span><span style="color: #333333">.</span>apply_cycle_permutation(k, i, cycle_len, nums)
    
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">apply_cycle_permutation</span>(<span style="color: #007020">self</span>, k, offset, cycle_len, nums):
        tmp <span style="color: #333333">=</span> nums[offset]
        <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #0000DD; font-weight: bold">1</span>, cycle_len):
            nums[(offset<span style="color: #333333">+</span>i<span style="color: #333333">*</span>k) <span style="color: #333333">%</span> <span style="color: #007020">len</span>(nums)], tmp <span style="color: #333333">=</span> tmp, nums[(offset<span style="color: #333333">+</span>i<span style="color: #333333">*</span>k) <span style="color: #333333">%</span> <span style="color: #007020">len</span>(nums)]
        nums[offset] <span style="color: #333333">=</span> tmp
          
<span style="color: #008800; font-weight: bold">if</span> __name__ <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#39;__main__&#39;</span>:
    nums <span style="color: #333333">=</span> [<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">2</span>,<span style="color: #0000DD; font-weight: bold">3</span>,<span style="color: #0000DD; font-weight: bold">4</span>,<span style="color: #0000DD; font-weight: bold">5</span>,<span style="color: #0000DD; font-weight: bold">6</span>,<span style="color: #0000DD; font-weight: bold">7</span>]
    Solution()<span style="color: #333333">.</span>rotate(nums, <span style="color: #0000DD; font-weight: bold">3</span>)
    <span style="color: #008800; font-weight: bold">print</span> nums
</pre></div>
