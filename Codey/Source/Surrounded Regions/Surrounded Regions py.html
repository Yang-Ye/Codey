<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(m * n)</span>
<span style="color: #888888"># Space: O(m + n)</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Given a 2D board containing &#39;X&#39; and &#39;O&#39;, capture all regions surrounded by &#39;X&#39;.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># A region is captured by flipping all &#39;O&#39;s into &#39;X&#39;s in that surrounded region.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># For example,</span>
<span style="color: #888888"># X X X X</span>
<span style="color: #888888"># X O O X</span>
<span style="color: #888888"># X X O X</span>
<span style="color: #888888"># X O X X</span>
<span style="color: #888888"># After running your function, the board should be:</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># X X X X</span>
<span style="color: #888888"># X X X X</span>
<span style="color: #888888"># X X X X</span>
<span style="color: #888888"># X O X X</span>
<span style="color: #888888">#</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>:
    <span style="color: #888888"># @param board, a 2D array</span>
    <span style="color: #888888"># Capture all regions by modifying the input board in-place.</span>
    <span style="color: #888888"># Do not return any value.</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">solve</span>(<span style="color: #007020">self</span>, board):
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">not</span> board:
            <span style="color: #008800; font-weight: bold">return</span>
        q <span style="color: #333333">=</span> collections<span style="color: #333333">.</span>deque([])
        
        <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">len</span>(board)):
            q<span style="color: #333333">.</span>append((i, <span style="color: #0000DD; font-weight: bold">0</span>))
            q<span style="color: #333333">.</span>append((i, <span style="color: #007020">len</span>(board[<span style="color: #0000DD; font-weight: bold">0</span>]) <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>))
            
        <span style="color: #008800; font-weight: bold">for</span> j <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">len</span>(board[<span style="color: #0000DD; font-weight: bold">0</span>])):
            q<span style="color: #333333">.</span>append((<span style="color: #0000DD; font-weight: bold">0</span>, j))
            q<span style="color: #333333">.</span>append((<span style="color: #007020">len</span>(board) <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>, j))
            
        <span style="color: #008800; font-weight: bold">while</span> q:
            i, j <span style="color: #333333">=</span> q<span style="color: #333333">.</span>popleft()
            <span style="color: #008800; font-weight: bold">if</span> board[i][j] <span style="color: #000000; font-weight: bold">in</span> [<span style="background-color: #fff0f0">&#39;O&#39;</span>, <span style="background-color: #fff0f0">&#39;V&#39;</span>]:
                board[i][j] <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&#39;V&#39;</span>
                <span style="color: #008800; font-weight: bold">for</span> x, y <span style="color: #000000; font-weight: bold">in</span> [(i <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>, j), (i <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>, j), (i, j <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>), (i, j <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>)]:
                    <span style="color: #008800; font-weight: bold">if</span> <span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&lt;=</span> x <span style="color: #333333">&lt;</span> <span style="color: #007020">len</span>(board) <span style="color: #000000; font-weight: bold">and</span> <span style="color: #0000DD; font-weight: bold">0</span> <span style="color: #333333">&lt;=</span> y <span style="color: #333333">&lt;</span> <span style="color: #007020">len</span>(board[<span style="color: #0000DD; font-weight: bold">0</span>]) <span style="color: #000000; font-weight: bold">and</span> \
                       board[x][y] <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#39;O&#39;</span>:
                        board[x][y] <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&#39;V&#39;</span>
                        q<span style="color: #333333">.</span>append((x, y))
                        
        <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">len</span>(board)):
            <span style="color: #008800; font-weight: bold">for</span> j <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">len</span>(board[<span style="color: #0000DD; font-weight: bold">0</span>])):
                <span style="color: #008800; font-weight: bold">if</span> board[i][j] <span style="color: #333333">!=</span> <span style="background-color: #fff0f0">&#39;V&#39;</span>:
                    board[i][j] <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&#39;X&#39;</span>
                <span style="color: #008800; font-weight: bold">else</span>:
                    board[i][j] <span style="color: #333333">=</span> <span style="background-color: #fff0f0">&#39;O&#39;</span>

<span style="color: #008800; font-weight: bold">if</span> __name__ <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;__main__&quot;</span>:
    board <span style="color: #333333">=</span> [[<span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>],
             [<span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;O&#39;</span>, <span style="background-color: #fff0f0">&#39;O&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>],
             [<span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;O&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>],
             [<span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;O&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>, <span style="background-color: #fff0f0">&#39;X&#39;</span>]]
    Solution()<span style="color: #333333">.</span>solve(board)
    <span style="color: #008800; font-weight: bold">print</span> board
</pre></div>
