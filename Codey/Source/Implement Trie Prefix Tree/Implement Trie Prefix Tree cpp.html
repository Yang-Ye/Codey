<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888">// Time:  O(n), per operation</span>
<span style="color: #888888">// Space: O(1)</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">TrieNode</span> {
<span style="color: #008800; font-weight: bold">public</span><span style="color: #333333">:</span>
    <span style="color: #888888">// Initialize your data structure here.</span>
    TrieNode() <span style="color: #333333">:</span> is_string(<span style="color: #007020">false</span>) {
        
    }
    <span style="color: #333399; font-weight: bold">bool</span> is_string;
    unordered_map<span style="color: #333333">&lt;</span><span style="color: #333399; font-weight: bold">char</span>, TrieNode <span style="color: #333333">*&gt;</span> leaves;
};

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Trie</span> {
<span style="color: #008800; font-weight: bold">public</span><span style="color: #333333">:</span>
    Trie() {
        root_ <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> TrieNode();
    }

    <span style="color: #888888">// Inserts a word into the trie.</span>
    <span style="color: #333399; font-weight: bold">void</span> insert(string word) {
        <span style="color: #008800; font-weight: bold">auto</span> <span style="color: #333333">*</span>cur <span style="color: #333333">=</span> root_;
        <span style="color: #008800; font-weight: bold">for</span> (<span style="color: #008800; font-weight: bold">const</span> <span style="color: #008800; font-weight: bold">auto</span><span style="color: #333333">&amp;</span> <span style="color: #997700; font-weight: bold">c</span> : word) {
            <span style="color: #008800; font-weight: bold">if</span> (<span style="color: #333333">!</span>cur<span style="color: #333333">-&gt;</span>leaves.count(c)) {
                cur<span style="color: #333333">-&gt;</span>leaves[c] <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">new</span> TrieNode();
            }
            cur <span style="color: #333333">=</span> cur<span style="color: #333333">-&gt;</span>leaves[c];
        }
        cur<span style="color: #333333">-&gt;</span>is_string <span style="color: #333333">=</span> <span style="color: #007020">true</span>;
    }

    <span style="color: #888888">// Returns if the word is in the trie.</span>
    <span style="color: #333399; font-weight: bold">bool</span> search(string word) {
        <span style="color: #008800; font-weight: bold">auto</span> <span style="color: #333333">*</span>node <span style="color: #333333">=</span> childSearch(word);
        <span style="color: #008800; font-weight: bold">if</span> (node) {
            <span style="color: #008800; font-weight: bold">return</span> node<span style="color: #333333">-&gt;</span>is_string;
        }
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">false</span>;   
    }

    <span style="color: #888888">// Returns if there is any word in the trie</span>
    <span style="color: #888888">// that starts with the given prefix.</span>
    <span style="color: #333399; font-weight: bold">bool</span> startsWith(string prefix) {
        <span style="color: #008800; font-weight: bold">return</span> childSearch(prefix);
    }

    TrieNode <span style="color: #333333">*</span>childSearch(<span style="color: #008800; font-weight: bold">const</span> string<span style="color: #333333">&amp;</span> word) {
        <span style="color: #008800; font-weight: bold">auto</span> <span style="color: #333333">*</span>cur <span style="color: #333333">=</span> root_;
        <span style="color: #008800; font-weight: bold">for</span> (<span style="color: #008800; font-weight: bold">const</span> <span style="color: #008800; font-weight: bold">auto</span><span style="color: #333333">&amp;</span> <span style="color: #997700; font-weight: bold">c</span> : word) {
            <span style="color: #008800; font-weight: bold">if</span> (cur<span style="color: #333333">-&gt;</span>leaves.count(c)) {
                cur <span style="color: #333333">=</span> cur<span style="color: #333333">-&gt;</span>leaves[c];
            } <span style="color: #008800; font-weight: bold">else</span> {
                <span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">nullptr</span>;
            }
        }
        <span style="color: #008800; font-weight: bold">return</span> cur;
    }

<span style="color: #008800; font-weight: bold">private</span><span style="color: #333333">:</span>
    TrieNode <span style="color: #333333">*</span>root_;
};

<span style="color: #888888">// Your Trie object will be instantiated and called as such:</span>
<span style="color: #888888">// Trie trie;</span>
<span style="color: #888888">// trie.insert(&quot;somestring&quot;);</span>
<span style="color: #888888">// trie.search(&quot;key&quot;);</span>
</pre></div>
