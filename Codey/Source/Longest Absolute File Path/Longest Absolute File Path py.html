<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n)</span>
<span style="color: #888888"># Space: O(d), d is the max depth of the paths</span>

<span style="color: #888888"># Suppose we abstract our file system by a string in the following manner:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># The string &quot;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&quot; represents:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># dir</span>
<span style="color: #888888">#     subdir1</span>
<span style="color: #888888">#     subdir2</span>
<span style="color: #888888">#         file.ext</span>
<span style="color: #888888"># The directory dir contains an empty sub-directory subdir1 and a sub-directory subdir2 containing a file file.ext.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># The string &quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot; represents:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># dir</span>
<span style="color: #888888">#     subdir1</span>
<span style="color: #888888">#         file1.ext</span>
<span style="color: #888888">#         subsubdir1</span>
<span style="color: #888888">#     subdir2</span>
<span style="color: #888888">#         subsubdir2</span>
<span style="color: #888888">#             file2.ext</span>
<span style="color: #888888"># The directory dir contains two sub-directories subdir1 and subdir2.</span>
<span style="color: #888888"># subdir1 contains a file file1.ext and an empty second-level sub-directory subsubdir1.</span>
<span style="color: #888888"># subdir2 contains a second-level sub-directory subsubdir2 containing a file file2.ext.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># We are interested in finding the longest (number of characters) absolute path to a file within our file system.</span>
<span style="color: #888888"># For example, in the second example above, the longest absolute path is &quot;dir/subdir2/subsubdir2/file2.ext&quot;,</span>
<span style="color: #888888"># and its length is 32 (not including the double quotes).</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Given a string representing the file system in the above format, </span>
<span style="color: #888888"># return the length of the longest absolute path to file in the abstracted file system.</span>
<span style="color: #888888"># If there is no file in the system, return 0.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Note:</span>
<span style="color: #888888"># The name of a file contains at least a . and an extension.</span>
<span style="color: #888888"># The name of a directory or sub-directory will not contain a ..</span>
<span style="color: #888888"># Time complexity required: O(n) where n is the size of the input string.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Notice that a/aa/aaa/file1.txt is not the longest file path, if there is</span>
<span style="color: #888888"># another path aaaaaaaaaaaaaaaaaaaaa/sth.png.</span>


<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>(<span style="color: #007020">object</span>):
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">lengthLongestPath</span>(<span style="color: #007020">self</span>, <span style="color: #007020">input</span>):
        <span style="color: #DD4422">&quot;&quot;&quot;</span>
<span style="color: #DD4422">        :type input: str</span>
<span style="color: #DD4422">        :rtype: int</span>
<span style="color: #DD4422">        &quot;&quot;&quot;</span>
        <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">split_iter</span>(s, tok):
            start <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
            <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">len</span>(s)):
                <span style="color: #008800; font-weight: bold">if</span> s[i] <span style="color: #333333">==</span> tok:
                    <span style="color: #008800; font-weight: bold">yield</span> s[start:i]
                    start <span style="color: #333333">=</span> i <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>
            <span style="color: #008800; font-weight: bold">yield</span> s[start:]


        max_len <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
        path_len <span style="color: #333333">=</span> {<span style="color: #0000DD; font-weight: bold">0</span>: <span style="color: #0000DD; font-weight: bold">0</span>}
        <span style="color: #008800; font-weight: bold">for</span> line <span style="color: #000000; font-weight: bold">in</span> split_iter(<span style="color: #007020">input</span>, <span style="background-color: #fff0f0">&#39;</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\n</span><span style="background-color: #fff0f0">&#39;</span>):
            name <span style="color: #333333">=</span> line<span style="color: #333333">.</span>lstrip(<span style="background-color: #fff0f0">&#39;</span><span style="color: #666666; font-weight: bold; background-color: #fff0f0">\t</span><span style="background-color: #fff0f0">&#39;</span>)
            depth <span style="color: #333333">=</span> <span style="color: #007020">len</span>(line) <span style="color: #333333">-</span> <span style="color: #007020">len</span>(name)
            <span style="color: #008800; font-weight: bold">if</span> <span style="background-color: #fff0f0">&#39;.&#39;</span> <span style="color: #000000; font-weight: bold">in</span> name:
                max_len <span style="color: #333333">=</span> <span style="color: #007020">max</span>(max_len, path_len[depth] <span style="color: #333333">+</span> <span style="color: #007020">len</span>(name))
            <span style="color: #008800; font-weight: bold">else</span>:
                path_len[depth <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">=</span> path_len[depth] <span style="color: #333333">+</span> <span style="color: #007020">len</span>(name) <span style="color: #333333">+</span> <span style="color: #0000DD; font-weight: bold">1</span>
        <span style="color: #008800; font-weight: bold">return</span> max_len
</pre></div>
