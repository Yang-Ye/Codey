<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n)</span>
<span style="color: #888888"># Space: O(1)</span>

<span style="color: #888888"># A password is considered strong if below conditions are all met:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># It has at least 6 characters and at most 20 characters.</span>
<span style="color: #888888"># It must contain at least one lowercase letter, at least one uppercase letter,</span>
<span style="color: #888888"># and at least one digit.</span>
<span style="color: #888888"># It must NOT contain three repeating characters in a row (&quot;...aaa...&quot; is weak,</span>
<span style="color: #888888"># but &quot;...aa...a...&quot; is strong, assuming other conditions are met).</span>
<span style="color: #888888"># Write a function strongPasswordChecker(s), that takes a string s as input,</span>
<span style="color: #888888"># and return the MINIMUM change required to make s a strong password. If s is already strong, return 0.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Insertion, deletion or replace of any one character are all considered as one change.</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>(<span style="color: #007020">object</span>):
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">strongPasswordChecker</span>(<span style="color: #007020">self</span>, s):
        <span style="color: #DD4422">&quot;&quot;&quot;</span>
<span style="color: #DD4422">        :type s: str</span>
<span style="color: #DD4422">        :rtype: int</span>
<span style="color: #DD4422">        &quot;&quot;&quot;</span>
        missing_type_cnt <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">3</span>
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">any</span>(<span style="background-color: #fff0f0">&#39;a&#39;</span> <span style="color: #333333">&lt;=</span> c <span style="color: #333333">&lt;=</span> <span style="background-color: #fff0f0">&#39;z&#39;</span> <span style="color: #008800; font-weight: bold">for</span> c <span style="color: #000000; font-weight: bold">in</span> s):
            missing_type_cnt <span style="color: #333333">-=</span> <span style="color: #0000DD; font-weight: bold">1</span>
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">any</span>(<span style="background-color: #fff0f0">&#39;A&#39;</span> <span style="color: #333333">&lt;=</span> c <span style="color: #333333">&lt;=</span> <span style="background-color: #fff0f0">&#39;Z&#39;</span> <span style="color: #008800; font-weight: bold">for</span> c <span style="color: #000000; font-weight: bold">in</span> s):
            missing_type_cnt <span style="color: #333333">-=</span> <span style="color: #0000DD; font-weight: bold">1</span>
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">any</span>(c<span style="color: #333333">.</span>isdigit() <span style="color: #008800; font-weight: bold">for</span> c <span style="color: #000000; font-weight: bold">in</span> s):
            missing_type_cnt <span style="color: #333333">-=</span> <span style="color: #0000DD; font-weight: bold">1</span>

        total_change_cnt <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
        one_change_cnt, two_change_cnt, three_change_cnt <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>, <span style="color: #0000DD; font-weight: bold">0</span>, <span style="color: #0000DD; font-weight: bold">0</span>
        i <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">2</span>
        <span style="color: #008800; font-weight: bold">while</span> i <span style="color: #333333">&lt;</span> <span style="color: #007020">len</span>(s):
            <span style="color: #008800; font-weight: bold">if</span> s[i] <span style="color: #333333">==</span> s[i<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>] <span style="color: #333333">==</span> s[i<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">2</span>]:
                length <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">2</span>
                <span style="color: #008800; font-weight: bold">while</span> i <span style="color: #333333">&lt;</span> <span style="color: #007020">len</span>(s) <span style="color: #000000; font-weight: bold">and</span> s[i] <span style="color: #333333">==</span> s[i<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>]:
                    length <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
                    i <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
                    
                total_change_cnt <span style="color: #333333">+=</span> length <span style="color: #333333">/</span> <span style="color: #0000DD; font-weight: bold">3</span>
                <span style="color: #008800; font-weight: bold">if</span> length <span style="color: #333333">%</span> <span style="color: #0000DD; font-weight: bold">3</span> <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>:
                    one_change_cnt <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
                <span style="color: #008800; font-weight: bold">elif</span> length <span style="color: #333333">%</span> <span style="color: #0000DD; font-weight: bold">3</span> <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span>:
                    two_change_cnt <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
                <span style="color: #008800; font-weight: bold">else</span>:
                    three_change_cnt <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
            <span style="color: #008800; font-weight: bold">else</span>:
                i <span style="color: #333333">+=</span> <span style="color: #0000DD; font-weight: bold">1</span>
        
        <span style="color: #008800; font-weight: bold">if</span> <span style="color: #007020">len</span>(s) <span style="color: #333333">&lt;</span> <span style="color: #0000DD; font-weight: bold">6</span>:
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">max</span>(missing_type_cnt, <span style="color: #0000DD; font-weight: bold">6</span> <span style="color: #333333">-</span> <span style="color: #007020">len</span>(s))
        <span style="color: #008800; font-weight: bold">elif</span> <span style="color: #007020">len</span>(s) <span style="color: #333333">&lt;=</span> <span style="color: #0000DD; font-weight: bold">20</span>:
            <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">max</span>(missing_type_cnt, total_change_cnt)
        <span style="color: #008800; font-weight: bold">else</span>:
            delete_cnt <span style="color: #333333">=</span> <span style="color: #007020">len</span>(s) <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">20</span>
            
            total_change_cnt <span style="color: #333333">-=</span> <span style="color: #007020">min</span>(delete_cnt, one_change_cnt <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">1</span>) <span style="color: #333333">/</span> <span style="color: #0000DD; font-weight: bold">1</span>
            total_change_cnt <span style="color: #333333">-=</span> <span style="color: #007020">min</span>(<span style="color: #007020">max</span>(delete_cnt <span style="color: #333333">-</span> one_change_cnt, <span style="color: #0000DD; font-weight: bold">0</span>), two_change_cnt <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">2</span>) <span style="color: #333333">/</span> <span style="color: #0000DD; font-weight: bold">2</span>
            total_change_cnt <span style="color: #333333">-=</span> <span style="color: #007020">min</span>(<span style="color: #007020">max</span>(delete_cnt <span style="color: #333333">-</span> one_change_cnt <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">2</span> <span style="color: #333333">*</span> two_change_cnt, <span style="color: #0000DD; font-weight: bold">0</span>), three_change_cnt <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">3</span>) <span style="color: #333333">/</span> <span style="color: #0000DD; font-weight: bold">3</span>
                
            <span style="color: #008800; font-weight: bold">return</span> delete_cnt <span style="color: #333333">+</span> <span style="color: #007020">max</span>(missing_type_cnt, total_change_cnt)
</pre></div>
