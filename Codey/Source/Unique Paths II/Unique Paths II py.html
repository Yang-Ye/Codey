<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(m * n)</span>
<span style="color: #888888"># Space: O(m + n)</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Follow up for &quot;Unique Paths&quot;:</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># Now consider if some obstacles are added to the grids. How many unique paths would there be?</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># An obstacle and empty space is marked as 1 and 0 respectively in the grid.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># For example,</span>
<span style="color: #888888"># There is one obstacle in the middle of a 3x3 grid as illustrated below.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># [</span>
<span style="color: #888888">#   [0,0,0],</span>
<span style="color: #888888">#   [0,1,0],</span>
<span style="color: #888888">#   [0,0,0]</span>
<span style="color: #888888"># ]</span>
<span style="color: #888888"># The total number of unique paths is 2.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># Note: m and n will be at most 100.</span>
<span style="color: #888888">#</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>:
    <span style="color: #888888"># @param obstacleGrid, a list of lists of integers</span>
    <span style="color: #888888"># @return an integer</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">uniquePathsWithObstacles</span>(<span style="color: #007020">self</span>, obstacleGrid):
        m, n <span style="color: #333333">=</span> <span style="color: #007020">len</span>(obstacleGrid), <span style="color: #007020">len</span>(obstacleGrid[<span style="color: #0000DD; font-weight: bold">0</span>])
        ways <span style="color: #333333">=</span> [<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">*</span> n
        
        <span style="color: #008800; font-weight: bold">if</span> obstacleGrid[<span style="color: #0000DD; font-weight: bold">0</span>][<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>:
            ways[<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">1</span>
            
        <span style="color: #008800; font-weight: bold">for</span> j <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #0000DD; font-weight: bold">1</span>, n):
            <span style="color: #008800; font-weight: bold">if</span> obstacleGrid[<span style="color: #0000DD; font-weight: bold">0</span>][j] <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span>:
                ways[j] <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
            <span style="color: #008800; font-weight: bold">else</span>:
                ways[j] <span style="color: #333333">=</span> ways[j <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>]
        
        <span style="color: #008800; font-weight: bold">for</span> i <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #0000DD; font-weight: bold">1</span>, m):
            <span style="color: #008800; font-weight: bold">if</span> obstacleGrid[i][<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span>:
                ways[<span style="color: #0000DD; font-weight: bold">0</span>] <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
                
            <span style="color: #008800; font-weight: bold">for</span> j <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #0000DD; font-weight: bold">1</span>, n):
                <span style="color: #008800; font-weight: bold">if</span> obstacleGrid[i][j] <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">1</span>:
                    ways[j] <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
                <span style="color: #008800; font-weight: bold">else</span>:
                    ways[j] <span style="color: #333333">+=</span> ways[j <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>]
        
        <span style="color: #008800; font-weight: bold">return</span> ways[n <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>]

<span style="color: #008800; font-weight: bold">if</span> __name__ <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&quot;__main__&quot;</span>:
    obstacleGrid <span style="color: #333333">=</span> [
                      [<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>],
                      [<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">0</span>],
                      [<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>]
                   ]
    <span style="color: #008800; font-weight: bold">print</span> Solution()<span style="color: #333333">.</span>uniquePathsWithObstacles(obstacleGrid)
</pre></div>
