<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time: push: O(n), pop: O(1), top: O(1)</span>
<span style="color: #888888"># Space: O(n)</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Implement the following operations of a stack using queues.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># push(x) -- Push element x onto stack.</span>
<span style="color: #888888"># pop() -- Removes the element on top of the stack.</span>
<span style="color: #888888"># top() -- Get the top element.</span>
<span style="color: #888888"># empty() -- Return whether the stack is empty.</span>
<span style="color: #888888"># Notes:</span>
<span style="color: #888888"># You must use only standard operations of a queue -- which</span>
<span style="color: #888888"># means only push to back, peek/pop from front, size, and is</span>
<span style="color: #888888"># empty operations are valid.</span>
<span style="color: #888888"># Depending on your language, queue may not be supported natively.</span>
<span style="color: #888888"># You may simulate a queue by using a list or deque (double-ended</span>
<span style="color: #888888"># queue), as long as you use only standard operations of a queue.</span>
<span style="color: #888888"># You may assume that all operations are valid (for example, no pop</span>
<span style="color: #888888"># or top operations will be called on an empty stack).</span>
<span style="color: #888888">#</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Queue</span>:
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">__init__</span>(<span style="color: #007020">self</span>):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>data <span style="color: #333333">=</span> collections<span style="color: #333333">.</span>deque()
        
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">push</span>(<span style="color: #007020">self</span>, x):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>data<span style="color: #333333">.</span>append(x)
    
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">peek</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>data[<span style="color: #0000DD; font-weight: bold">0</span>]
    
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">pop</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>data<span style="color: #333333">.</span>popleft()
    
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">size</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">len</span>(<span style="color: #007020">self</span><span style="color: #333333">.</span>data)
    
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">empty</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">len</span>(<span style="color: #007020">self</span><span style="color: #333333">.</span>data) <span style="color: #333333">==</span> <span style="color: #0000DD; font-weight: bold">0</span>


<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Stack</span>:
    <span style="color: #888888"># initialize your data structure here.</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">__init__</span>(<span style="color: #007020">self</span>):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>q_ <span style="color: #333333">=</span> Queue()

    <span style="color: #888888"># @param x, an integer</span>
    <span style="color: #888888"># @return nothing</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">push</span>(<span style="color: #007020">self</span>, x):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>push(x)
        <span style="color: #008800; font-weight: bold">for</span> _ <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>size() <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>):
            <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>push(<span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>pop())

    <span style="color: #888888"># @return nothing</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">pop</span>(<span style="color: #007020">self</span>):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>pop()

    <span style="color: #888888"># @return an integer</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">top</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>peek()

    <span style="color: #888888"># @return an boolean</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">empty</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>empty()


<span style="color: #888888"># Time: push: O(1), pop: O(n), top: O(1)</span>
<span style="color: #888888"># Space: O(n)</span>
<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Stack2</span>:
    <span style="color: #888888"># initialize your data structure here.</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">__init__</span>(<span style="color: #007020">self</span>):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>q_ <span style="color: #333333">=</span> Queue()
        <span style="color: #007020">self</span><span style="color: #333333">.</span>top_ <span style="color: #333333">=</span> <span style="color: #007020">None</span>

    <span style="color: #888888"># @param x, an integer</span>
    <span style="color: #888888"># @return nothing</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">push</span>(<span style="color: #007020">self</span>, x):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>push(x)
        <span style="color: #007020">self</span><span style="color: #333333">.</span>top_ <span style="color: #333333">=</span> x

    <span style="color: #888888"># @return nothing</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">pop</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">for</span> _ <span style="color: #000000; font-weight: bold">in</span> <span style="color: #007020">xrange</span>(<span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>size() <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">1</span>):
            <span style="color: #007020">self</span><span style="color: #333333">.</span>top_ <span style="color: #333333">=</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>pop()
            <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>push(<span style="color: #007020">self</span><span style="color: #333333">.</span>top_)
        <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>pop()

    <span style="color: #888888"># @return an integer</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">top</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>top_

    <span style="color: #888888"># @return an boolean</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">empty</span>(<span style="color: #007020">self</span>):
        <span style="color: #008800; font-weight: bold">return</span> <span style="color: #007020">self</span><span style="color: #333333">.</span>q_<span style="color: #333333">.</span>empty()
</pre></div>
