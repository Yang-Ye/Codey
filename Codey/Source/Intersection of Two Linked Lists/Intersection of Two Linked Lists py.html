<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(m + n)</span>
<span style="color: #888888"># Space: O(1)</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Write a program to find the node at which the intersection of two singly linked lists begins.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># </span>
<span style="color: #888888"># For example, the following two linked lists:</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># A:          a1 - a2</span>
<span style="color: #888888">#                    \</span>
<span style="color: #888888">#                      c1 - c2 - c3</span>
<span style="color: #888888">#                    /            </span>
<span style="color: #888888"># B:     b1 - b2 - b3</span>
<span style="color: #888888"># begin to intersect at node c1.</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># </span>
<span style="color: #888888"># Notes:</span>
<span style="color: #888888"># </span>
<span style="color: #888888"># If the two linked lists have no intersection at all, return null.</span>
<span style="color: #888888"># The linked lists must retain their original structure after the function returns.</span>
<span style="color: #888888"># You may assume there are no cycles anywhere in the entire linked structure.</span>
<span style="color: #888888"># Your code should preferably run in O(n) time and use only O(1) memory.</span>
<span style="color: #888888">#</span>

<span style="color: #888888"># Definition for singly-linked list.</span>
<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">ListNode</span>:
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">__init__</span>(<span style="color: #007020">self</span>, x):
        <span style="color: #007020">self</span><span style="color: #333333">.</span>val <span style="color: #333333">=</span> x
        <span style="color: #007020">self</span><span style="color: #333333">.</span>next <span style="color: #333333">=</span> <span style="color: #007020">None</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>:
    <span style="color: #888888"># @param two ListNodes</span>
    <span style="color: #888888"># @return the intersected ListNode</span>
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">getIntersectionNode</span>(<span style="color: #007020">self</span>, headA, headB):
        curA, curB <span style="color: #333333">=</span> headA, headB
        begin, tailA, tailB <span style="color: #333333">=</span> <span style="color: #007020">None</span>, <span style="color: #007020">None</span>, <span style="color: #007020">None</span>
        
        <span style="color: #008800; font-weight: bold">while</span> curA <span style="color: #000000; font-weight: bold">and</span> curB:
            <span style="color: #008800; font-weight: bold">if</span> curA <span style="color: #333333">==</span> curB:
                begin <span style="color: #333333">=</span> curA
                <span style="color: #008800; font-weight: bold">break</span>
                
            <span style="color: #008800; font-weight: bold">if</span> curA<span style="color: #333333">.</span>next:
                curA <span style="color: #333333">=</span> curA<span style="color: #333333">.</span>next
            <span style="color: #008800; font-weight: bold">elif</span> tailA <span style="color: #000000; font-weight: bold">is</span> <span style="color: #007020">None</span>:
                tailA <span style="color: #333333">=</span> curA
                curA <span style="color: #333333">=</span> headB
            <span style="color: #008800; font-weight: bold">else</span>:
                <span style="color: #008800; font-weight: bold">break</span>
            
            <span style="color: #008800; font-weight: bold">if</span> curB<span style="color: #333333">.</span>next:
                curB <span style="color: #333333">=</span> curB<span style="color: #333333">.</span>next
            <span style="color: #008800; font-weight: bold">elif</span> tailB <span style="color: #000000; font-weight: bold">is</span> <span style="color: #007020">None</span>:
                tailB <span style="color: #333333">=</span> curB
                curB <span style="color: #333333">=</span> headA
            <span style="color: #008800; font-weight: bold">else</span>:
                <span style="color: #008800; font-weight: bold">break</span>
        
        <span style="color: #008800; font-weight: bold">return</span> begin
</pre></div>
