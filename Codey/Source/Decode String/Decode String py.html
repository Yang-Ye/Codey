<!-- HTML generated by Yang Ye --><div style="background: #ffffff; overflow:auto;width:auto;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span></span><span style="color: #888888"># Time:  O(n)</span>
<span style="color: #888888"># Space: O(h), h is the depth of the recursion</span>

<span style="color: #888888"># Given an encoded string, return it&#39;s decoded string.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># The encoding rule is: k[encoded_string], </span>
<span style="color: #888888"># where the encoded_string inside the square brackets is </span>
<span style="color: #888888"># being repeated exactly k times. Note that k is guaranteed</span>
<span style="color: #888888"># to be a positive integer.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># You may assume that the input string is always valid;</span>
<span style="color: #888888"># No extra white spaces, square brackets are well-formed, etc.</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Furthermore, you may assume that the original data does not</span>
<span style="color: #888888"># contain any digits and that digits are only for those repeat numbers, k.</span>
<span style="color: #888888"># For example, there won&#39;t be input like 3a or 2[4].</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># Examples:</span>
<span style="color: #888888">#</span>
<span style="color: #888888"># s = &quot;3[a]2[bc]&quot;, return &quot;aaabcbc&quot;.</span>
<span style="color: #888888"># s = &quot;3[a2[c]]&quot;, return &quot;accaccacc&quot;.</span>
<span style="color: #888888"># s = &quot;2[abc]3[cd]ef&quot;, return &quot;abcabccdcdcdef&quot;.</span>

<span style="color: #008800; font-weight: bold">class</span> <span style="color: #BB0066; font-weight: bold">Solution</span>(<span style="color: #007020">object</span>):
    <span style="color: #008800; font-weight: bold">def</span> <span style="color: #0066BB; font-weight: bold">decodeString</span>(<span style="color: #007020">self</span>, s):
        <span style="color: #DD4422">&quot;&quot;&quot;</span>
<span style="color: #DD4422">        :type s: str</span>
<span style="color: #DD4422">        :rtype: str</span>
<span style="color: #DD4422">        &quot;&quot;&quot;</span>
        curr, nums, strs <span style="color: #333333">=</span> [], [], []
        n <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>

        <span style="color: #008800; font-weight: bold">for</span> c <span style="color: #000000; font-weight: bold">in</span> s:
            <span style="color: #008800; font-weight: bold">if</span> c<span style="color: #333333">.</span>isdigit():
                n <span style="color: #333333">=</span> n <span style="color: #333333">*</span> <span style="color: #0000DD; font-weight: bold">10</span> <span style="color: #333333">+</span> <span style="color: #007020">ord</span>(c) <span style="color: #333333">-</span> <span style="color: #007020">ord</span>(<span style="background-color: #fff0f0">&#39;0&#39;</span>)
            <span style="color: #008800; font-weight: bold">elif</span> c <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#39;[&#39;</span>:
                nums<span style="color: #333333">.</span>append(n)
                n <span style="color: #333333">=</span> <span style="color: #0000DD; font-weight: bold">0</span>
                strs<span style="color: #333333">.</span>append(curr)
                curr <span style="color: #333333">=</span> []
            <span style="color: #008800; font-weight: bold">elif</span> c <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#39;]&#39;</span>:
                strs[<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>]<span style="color: #333333">.</span>extend(curr <span style="color: #333333">*</span> nums<span style="color: #333333">.</span>pop())
                curr <span style="color: #333333">=</span> strs<span style="color: #333333">.</span>pop()
            <span style="color: #008800; font-weight: bold">else</span>:
                curr<span style="color: #333333">.</span>append(c)

        <span style="color: #008800; font-weight: bold">return</span> <span style="background-color: #fff0f0">&quot;&quot;</span><span style="color: #333333">.</span>join(strs[<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>]) <span style="color: #008800; font-weight: bold">if</span> strs <span style="color: #008800; font-weight: bold">else</span> <span style="background-color: #fff0f0">&quot;&quot;</span><span style="color: #333333">.</span>join(curr)
</pre></div>
